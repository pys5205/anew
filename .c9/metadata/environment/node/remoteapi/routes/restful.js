{"filter":false,"title":"restful.js","tooltip":"/node/remoteapi/routes/restful.js","undoManager":{"mark":13,"position":13,"stack":[[{"start":{"row":0,"column":0},"end":{"row":130,"column":3},"action":"insert","lines":["const express = require(\"express\");","const bodyParser = require('body-parser');","const axios = require(\"axios\");","const CircularJSON = require(\"circular-json\");","const request = require(\"request\")","","const app = express();","","app.use(bodyParser.json());","app.use(bodyParser.urlencoded({extended : false}));","app.use(express.json());","app.use(express.urlencoded({extended : true}));","","let urls = \"\";","","// simple api","app.get(\"/Hello\", (req, res) => {","  urls = \"http://3.37.42.249:3000/Hello\";","  request(urls, { json: true }, (err, result, body) => {","      if (err) { return console.log(err); }","      res.send(CircularJSON.stringify(body))","  })","});","","// request param X, response O","app.get(\"/api/users\", (req, res) => {","    axios","        .get('http://3.37.42.249:3000/api/users')","        .then(result => {","            res.send(CircularJSON.stringify(result.data))","        })","        .catch(error => {","            console.error(error)","        })","});","","// Query param, request param O, response O","app.get(\"/api/users/user\", (req, res) => {","    if (req.query.name == null) {","        urls = \"http://3.37.42.249:3000/api/users/user?user_id=\"+req.query.user_id;","    } else {           ","        urls = \"http://3.37.42.249:3000/api/users/user?user_id=\"+req.query.user_id+\"&name=\"+req.query.name;","    }","    request(urls, { json: true }, (err, result, body) => {","      if (err) { return console.log(err); }","      res.send(CircularJSON.stringify(body))","    })    ","});","","// Path param, request param O, response O","app.get(\"/api/users/:user_id\", (req, res) => {","  urls = \"http://3.37.42.249:3000/api/users/\"+req.params.user_id;","  request(urls, { json: true }, (err, result, body) => {","      if (err) { return console.log(err); }","      res.send(CircularJSON.stringify(body))","  })","});","","// post, request body, response O","app.post(\"/api/users/userBody\", (req, res) => {","    const options = {","        uri : 'http://3.37.42.249:3000/api/users/userBody',","        method : 'POST',","        form : { id: req.body.id }","    }","    request.post(options, (err, result, body) => {","        if (err) { return console.log(err); }","        res.send(CircularJSON.stringify(body))","    })","});","","// post, request body, response O","app.post(\"/api/users/add\", (req, res) => {","    const options = {","        uri : 'http://3.37.42.249:3000/api/users/add',","        method : 'POST',","        form : { ","            id: req.body.id,","            name : req.body.name","        }","    }","    request.post(options, (err, result, body) => {","        if (err) { return console.log(err); }","        res.send(CircularJSON.stringify(body))","    })","});","","// put, request body, response O","app.put(\"/api/users/update\", (req, res) => {","    const options = {","        uri : 'http://3.37.42.249:3000/api/users/update',","        method : 'PUT',","        form : { ","            id: req.body.id,","            name : req.body.name","        }","    }","    request.put(options, (err, result, body) => {","        if (err) { return console.log(err); }","        res.send(CircularJSON.stringify(body))","    })","});","","// patch, request body, response O","app.patch(\"/api/user/update/:user_id\", (req, res) => {","    const options = {","        uri : 'http://3.37.42.249:3000/api/user/update'+req.params.user_id,","        method : 'PATCH',","        form : { ","            id: req.body.id,","            name : req.body.name","        }","    }","    request.patch(options, (err, result, body) => {","        if (err) { return console.log(err); }","        res.send(CircularJSON.stringify(body))","    })","});","","// delete, request body, response O","app.delete(\"/api/user/delete\", (req, res) => {","    const options = {","        uri : 'http://3.37.42.249:3000/api/user/delete',","        method : 'DELETE',","        form : { user_id: req.body.user_id }","    }","    request.delete(options, (err, result, body) => {","        if (err) { return console.log(err); }","        res.send(CircularJSON.stringify(body))","    })","});"],"id":1}],[{"start":{"row":17,"column":17},"end":{"row":17,"column":28},"action":"remove","lines":["3.37.42.249"],"id":2},{"start":{"row":17,"column":17},"end":{"row":17,"column":28},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":27,"column":21},"end":{"row":27,"column":32},"action":"remove","lines":["3.37.42.249"],"id":3},{"start":{"row":27,"column":21},"end":{"row":27,"column":32},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":39,"column":23},"end":{"row":39,"column":34},"action":"remove","lines":["3.37.42.249"],"id":4},{"start":{"row":39,"column":23},"end":{"row":39,"column":34},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":41,"column":23},"end":{"row":41,"column":34},"action":"remove","lines":["3.37.42.249"],"id":5},{"start":{"row":41,"column":23},"end":{"row":41,"column":34},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":51,"column":17},"end":{"row":51,"column":28},"action":"remove","lines":["3.37.42.249"],"id":6},{"start":{"row":51,"column":17},"end":{"row":51,"column":28},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":61,"column":22},"end":{"row":61,"column":33},"action":"remove","lines":["3.37.42.249"],"id":7},{"start":{"row":61,"column":22},"end":{"row":61,"column":33},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":74,"column":22},"end":{"row":74,"column":33},"action":"remove","lines":["3.37.42.249"],"id":8},{"start":{"row":74,"column":22},"end":{"row":74,"column":33},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":90,"column":22},"end":{"row":90,"column":33},"action":"remove","lines":["3.37.42.249"],"id":9},{"start":{"row":90,"column":22},"end":{"row":90,"column":33},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":106,"column":22},"end":{"row":106,"column":33},"action":"remove","lines":["3.37.42.249"],"id":10},{"start":{"row":106,"column":22},"end":{"row":106,"column":33},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":122,"column":22},"end":{"row":122,"column":33},"action":"remove","lines":["3.37.42.249"],"id":11},{"start":{"row":122,"column":22},"end":{"row":122,"column":33},"action":"insert","lines":["3.39.184.25"]}],[{"start":{"row":130,"column":3},"end":{"row":131,"column":21},"action":"insert","lines":["","module.exports = app;"],"id":12}],[{"start":{"row":130,"column":3},"end":{"row":131,"column":0},"action":"insert","lines":["",""],"id":13}],[{"start":{"row":106,"column":54},"end":{"row":106,"column":55},"action":"insert","lines":["/"],"id":14}]]},"ace":{"folds":[],"scrolltop":1219,"scrollleft":0,"selection":{"start":{"row":52,"column":56},"end":{"row":52,"column":56},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":86,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1670214555216,"hash":"444b95c1d55d8a55ebf0d176712fe63904d731ec"}